{% extends 'cosmos/header.html' %}
{% load staticfiles %}
{% block head %}
    <title>"{{ title }}" | cosmos-search</title>

{% endblock %}

{% block body %}
    <h6>
        {% if amount > 1 %}
            Showing
            <span style="color: #5D337F;">{{ amount }}</span> results for:
            <span style="color: #5D337F;">{{ query }}</span>

        {% elif result_val and not result %}
            Showing result for expression: <span style="color: #5D337F;">{{ query }} = {{ result_val }}</span>

        {% elif amount is 1 %}
            Showing
            <span style="color: #5D337F;">{{ amount }}</span> result for:
            <span style="color: #5D337F;">{{ query }}</span>
        {% endif %}
        <span>
        <a href="#" style="color: #1b1e21"><div data-network="twitter"
                                                class="st-custom-button fa fa-twitter-square"></div></a>
        <a href="#" style="color: #1b1e21"><div data-network="facebook"
                                                class="st-custom-button fa fa-facebook-square"></div></a>
        <a href="#" style="color: #1b1e21"><div data-network="linkedin"
                                                class="st-custom-button fa fa-linkedin-square"></div></a>
        <a href="#" style="color: #1b1e21"><div data-network="googleplus"
                                                class="st-custom-button fa fa-google-plus-square"></div></a>
    </span>
    </h6>
    <hr>
    {% if result_val or not result %}
        {% include 'cosmos/calculator.html' %}
    {% endif %}

    {% if result %}
        {% for entry in result %}
            <div class="card">
            <div class="card-body">
                <h4 class="card-title">
                    {% for i in entry.dirs %}
                        {{ i }} /
                    {% endfor %}
                </h4>

                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="soln" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                        Solutions
                    </button>
                    <div>
                        <div>
                            <ul class="sol_tab nav nav-tabs">
                                <li class="active">
                                    <a href="#{{ forloop.counter }}" style="color: #1b1e21;" data-toggle="tab"
                                       onclick="wiki_event({{ forloop.counter }});">
                                        <i class="fa fa-wikipedia-w " aria-hidden="true"></i>

                                    </a>
                                </li>
                                <li>
                                    <a href="#a{{ forloop.counter }}" style="color: #1b1e21" data-toggle="tab"><i
                                            class="fa fa-stack-overflow " aria-hidden="true"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#b{{ forloop.counter }}" style="color: #1b1e21" data-toggle="tab">
                                        <i class="fa fa-tumblr " aria-hidden="true"></i>
                                    </a>
                                </li>
                            </ul>

                        </div>
                        <div class="tab-content">
                            <div class="tab-pane fade in active"  id="{{ forloop.counter }}">
                                <p><a href="{{ entry.wiki.url }}" target="blank"/>{{ entry.wiki.heading }}</p>
                            </div>
                            <div class="tab-pane fade" id="a{{ forloop.counter }}"
                                 onclick="stack_event(a{{ forloop.counter }});">
                                {% for stk_url in entry.stack %}
                                    <a href="{{ stk_url }}" target="blank">{{ entry.dirs.2 }}{{ forloop.counter }}</a>
                                    <br>
                                {% endfor %}

                            </div>
                            <div class="tab-pane fade" id="b{{ forloop.counter }}"
                                 onclick="stack_event(a{{ forloop.counter }});">
                                <a href={{ entry.tut }} target="blank">{{ entry.dirs.2 }}</a>
                            </div>
                        </div>
                        <div class="dropdown-menu" aria-labelledby="soln">
                            {% for file in entry.files %}
                                <a href="https://github.com/OpenGenus/cosmos/blob/master/code/{{ entry.path }}/{{ file }}"
                                   target="_blank" class="dropdown-item">{{ file }}</a>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            <br> {% endfor %}
        <h5>Recommended results</h5>
        <hr> {% for j in recommend %}
        <div class="card">
            <div class="card-body">

                <form method="get">
                    <div>
                        <h6 class="card-title">
                            {% for k in j.recdirs %}
                                {{ k }} /
                            {% endfor %}
                        </h6>
                        <a class="btn-link" href="/query/?q={{ j.last }}">solution</a>
                    </div>
                </form>
            </div>
        </div>
        <br>
    {% endfor %}
    {% endif %}
</div>
    <script type="text/javascript">

        function wiki_event({{forloop.counter}}) {
            var e = document.getElementById({{ forloop.counter}});
            alert(e);
            if (e.style.display == 'block')
                e.style.display = 'none';
            else
                e.style.display = 'block';
        }

        function stack_event(a{{ forloop.counter}}) {
            var e = document.getElementById(a{{ forloop.counter}});
            if (e.style.display == 'block')
                e.style.display = 'none';
            else
                e.style.display = 'block';
        }
    </script>
{% endblock %}
